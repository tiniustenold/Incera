<section class="hero-green">
  <canvas id="scene"></canvas>
  <div class="content">
    <!-- Logo / tagline kommer her -->
  </div>
</section>

<!-- Three.js (ESM) -->
<script type="module">
  import * as THREE from "https://unpkg.com/three@0.159.0/build/three.module.js";

  const canvas = document.getElementById('scene');
  const renderer = new THREE.WebGLRenderer({ canvas, antialias:true, alpha:true });
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(45, innerWidth/innerHeight, 0.1, 100);
  camera.position.set(0, 0, 6);

  // Lys
  const key = new THREE.DirectionalLight(0xffffff, 1.1); key.position.set(2,3,5); scene.add(key);
  scene.add(new THREE.AmbientLight(0xffffff, 0.4));

  // Materiale med subtilt grid-mønster
  const size = 256;
  const cvs = document.createElement('canvas'); cvs.width = cvs.height = size;
  const ctx = cvs.getContext('2d');
  ctx.fillStyle = '#9fe3d8'; ctx.fillRect(0,0,size,size);            // basefarge
  ctx.strokeStyle = 'rgba(0,0,0,0.08)'; ctx.lineWidth = 1;           // grid-linjer
  const step = 8;
  for(let x=0;x<=size;x+=step){ ctx.beginPath(); ctx.moveTo(x,0); ctx.lineTo(x,size); ctx.stroke(); }
  for(let y=0;y<=size;y+=step){ ctx.beginPath(); ctx.moveTo(0,y); ctx.lineTo(size,y); ctx.stroke(); }
  const tex = new THREE.CanvasTexture(cvs); tex.wrapS = tex.wrapT = THREE.RepeatWrapping; tex.repeat.set(4,4);

  const mat = new THREE.MeshStandardMaterial({
    color: 0x91e0d2,
    metalness: 0.25,
    roughness: 0.35,
    map: tex
  });

  const geo = new THREE.BoxGeometry(3, 3, 3, 64, 64, 64);
  const cube = new THREE.Mesh(geo, mat); scene.add(cube);

  // Resize
  function resize(){
    const w = canvas.clientWidth || innerWidth;
    const h = canvas.clientHeight || innerHeight;
    renderer.setSize(w, h, false);
    camera.aspect = w/h; camera.updateProjectionMatrix();
  }
  addEventListener('resize', resize); resize();

  // Scroll → rotasjon
  function scrollRotation(){
    const h = document.body.scrollHeight - innerHeight;
    const p = h>0 ? scrollY/h : 0;
    cube.rotation.x = p * Math.PI * 1.2; // vertikal rotasjon
    cube.rotation.y = 0.35;              // liten tilt for dybde
  }
  addEventListener('scroll', scrollRotation, { passive:true });

  // Render loop
  (function render(){
    requestAnimationFrame(render);
    renderer.setClearColor(0x0b1220, 0); // transparent (sekjonen har egen bakgrunn)
    renderer.render(scene, camera);
  })();
  scrollRotation();
</script>
